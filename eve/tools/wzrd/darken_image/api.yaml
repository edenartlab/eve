name: darken_image
description: Darken an image for projection mapping by applying gamma compression and brightness scaling
tip: |-
  Useful for preparing images for VJ projection applications. Lower gamma values
  produce more compression (darker shadows). Max brightness controls the peak
  intensity of the output.
cost_estimate: 5
output_type: image
active: true
handler: local
visible: true
parameters:
  image:
    type: string
    label: Input Image
    description: URL or path to the input image to darken
    required: true
  gamma:
    type: float
    label: Gamma
    description: Dynamic range compression factor. Lower values compress more.
    tip: Controls the curve of brightness reduction. Default of 1.5 works well for most projection scenarios.
    default: 1.5
    minimum: 0.5
    maximum: 3.0
    required: false
  max_brightness:
    type: float
    label: Max Brightness
    description: Maximum output intensity (0.0-1.0)
    tip: Controls the peak brightness cap in the output. Lower values produce darker results suitable for projection.
    default: 0.15
    minimum: 0.01
    maximum: 1.0
    required: false
