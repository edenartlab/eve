name: Music Generation
description: Generate music with ElevenLabs using a prompt OR a composition plan for fine-grained control
tip: |-
  Generate music from either a text prompt OR a detailed composition plan (not both).

  ## Simple Prompt Mode
  Provide a `prompt` and `duration`. Include in your prompt:
  - Genre/mood (e.g., "epic orchestral", "lo-fi chill beats")
  - Instrumentation (e.g., "piano and strings", "electronic synths")
  - Tempo as BPM (e.g., "128 BPM")
  - Key if relevant (e.g., "in A minor")
  - Vocal handling: use "instrumental only" for no vocals, "a cappella" for vocals only
  - Singer details (e.g., "female vocalist", "two singers harmonizing")
  - Timing cues (e.g., "lyrics begin at 15 seconds")
  - Full lyrics prefaced with "Lyrics:" if desired

  Set `force_instrumental: true` if you want guaranteed instrumental music.

  **IMPORTANT:** Do NOT reference specific artists/composers by name (e.g., "Hans Zimmer style", "like Beethoven"). This violates ElevenLabs ToS and will be rejected. Use generic style descriptions instead (e.g., "epic cinematic orchestral", "dramatic film score").

  ## Composition Plan Mode
  For complex multi-section compositions, provide a `composition_plan` object instead of a prompt.

  ### Composition Plan Structure

  ```json
  {
    "positive_global_styles": ["cinematic orchestral", "hybrid trailer", "wide stereo", "big drums"],
    "negative_global_styles": ["lo-fi", "small room", "cheap synth", "comedy"],
    "sections": [
      {
        "section_name": "Intro (mystery)",
        "positive_local_styles": ["soft strings", "low drones", "subtle pulses", "tension bed"],
        "negative_local_styles": ["main theme fully stated", "big choir", "busy drums"],
        "duration_ms": 10000,
        "lines": []
      },
      {
        "section_name": "Build",
        "positive_local_styles": ["rising ostinato", "snare build", "risers", "more percussion"],
        "negative_local_styles": ["drop too early", "overly melodic"],
        "duration_ms": 20000,
        "lines": []
      },
      {
        "section_name": "Drop / Climax",
        "positive_local_styles": ["huge drums", "brass hits", "string runs", "anthemic motif"],
        "negative_local_styles": ["quiet", "ambient wash", "thin bass"],
        "duration_ms": 10000,
        "lines": []
      },
      {
        "section_name": "Cliffhanger",
        "positive_local_styles": ["anxious", "quiet", "eerie", "fearful"],
        "negative_local_styles": ["loud", "percussive"],
        "duration_ms": 8000,
        "lines": []
      }
    ]
  }
  ```

  ### Section Fields (all required):
  - **section_name**: Name of the section (1-100 chars)
  - **positive_local_styles**: Styles to include in this section
  - **negative_local_styles**: Styles to avoid (can be empty array)
  - **duration_ms**: Duration in milliseconds (3000-120000ms per section)
  - **lines**: Lyrics array (empty for instrumental, max 200 chars per line)

  ### Tips:
  - Use English for style parameters
  - Total duration = sum of all section duration_ms values
  - For instrumental, leave `lines` as empty arrays
  - Use respect_sections_durations=True to enforce the duration_ms of each section for more precise choreography
cost_estimate: 0.5 * duration
thumbnail: app/elevenlabs58.webp
output_type: audio
active: true
visible: true
parameters:
  prompt:
    type: string
    label: Prompt
    description: Text description of the music to generate. Cannot be used with composition_plan.
    tip: 'Examples: "epic orchestral trailer music, instrumental only", "lo-fi chill beats 90 BPM", "upbeat pop song with female vocals. Lyrics: Hello world..."'
    required: false
  duration:
    type: float
    label: Duration
    description: Duration in seconds (10-300). Only used with prompt, ignored if composition_plan is provided.
    default: 30
    minimum: 10
    maximum: 300
  force_instrumental:
    type: boolean
    label: Force Instrumental
    description: Guarantees the generated music will be instrumental with no vocals. Only works with prompt mode.
    tip: Set to true if you definitely want instrumental music without any vocals or singing.
    default: false
  composition_plan:
    type: object
    label: Composition Plan
    description: Detailed composition plan for fine-grained control over music sections. Cannot be used with prompt.
    required: false
  respect_sections_durations:
    type: boolean
    label: Respect Section Durations
    description: Whether to strictly enforce each section's duration_ms. Only used with composition_plan.
    tip: When true, durations are exact. When false, the model may adjust for better quality while preserving total duration.
    default: true
