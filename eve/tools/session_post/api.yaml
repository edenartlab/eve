name: Session post
description: Post an agent message to a session
cost_estimate: 0
output_type: string
active: true
handler: local
visible: false
parameters:
  session:
    type: string
    label: Session
    description: The session to post to (object id)
    tip: Only set this if you are posting to an existing session. Leave it blank to make a new session.
    required: false
  agent:
    type: string
    label: Agent
    description: The agent to post to (username). Leave it blank to use the current agent.
  title:
    type: string
    label: Title
    description: The title of the new session
    tip: Only set this if you are making a new session
    required: false
  role:
    type: string
    label: Role
    description: The role of the message
    choices: [assistant, user, system]
    default: user
    required: true
  prompt:
    type: boolean
    label: Prompt
    default: false
    description: Whether to prompt the assistant after an assistant message
    required: false
  async:
    type: boolean
    label: Run Async
    description: Whether to spawn the session asynchronously and return immediately, or to wait for the result of the session prompt.
    default: false
    required: false
  response_type:
    type: string
    label: Response Type
    description: The type of structured output to extract from the session when not async.
    choices: [media, seed]
    default: media
    tip: Use 'media' for media outputs (URLs), 'seed' for seed IDs from verdelis_seed or similar tools.
    required: false
  extra_tools:
    type: array
    label: Extra tools
    description: Any extra tools to make available to the assistant when prompting
    required: false
    items:
      type: string
  content:
    type: string
    label: Content
    description: The content of the agent message
    required: true
  attachments:
    type: array
    label: Attachments
    description: Media or file URLs to attach to the message
    required: false
    items:
      type: string
  pin:
    type: boolean
    label: Pin
    description: Whether to pin the message to the session
    default: false
    required: false
  public:
    type: boolean
    label: Public
    description: Whether to make the session always public
    tip: Do **not** ever set this to true, unless **explicitly** directed to by the user in the previous message, and not overridden anywhere else..
    default: false
  selection_limit:
    type: integer
    label: Selection Limit
    description: Override the default message selection limit (30) for this prompt. Use higher values for tools that need more context history.
    required: false
  visible:
    type: boolean
    label: Visible
    description: Explicitly set the session's visibility flag. Leave blank to use default behavior (undefined). Set to true to make the session visible in public listings.
    tip: Only set this if you need to explicitly control visibility. Most sessions should leave this blank.
    required: false
